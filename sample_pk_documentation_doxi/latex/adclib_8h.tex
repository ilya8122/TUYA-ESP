\hypertarget{adclib_8h}{}\doxysection{adclib.\+h File Reference}
\label{adclib_8h}\index{adclib.h@{adclib.h}}
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include \char`\"{}define.\+h\char`\"{}}\newline
Include dependency graph for adclib.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structadc__config__t}{adc\+\_\+config\+\_\+t}}
\begin{DoxyCompactList}\small\item\em A\+DC initialization parameter structure type definition. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef int32\+\_\+t \mbox{\hyperlink{adclib_8h_ae535f6066003e82408b58e12f6950868}{esp\+\_\+err\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{adclib_8h_a760a8dafdcddcfadfea0aa3e01159164}{adc\+\_\+mode\+\_\+t}} \{ \mbox{\hyperlink{adclib_8h_a760a8dafdcddcfadfea0aa3e01159164ac1f160c92430f29ea1cfed508c3a8b6d}{A\+D\+C\+\_\+\+R\+E\+A\+D\+\_\+\+T\+O\+U\+T\+\_\+\+M\+O\+DE}} = 0, 
\mbox{\hyperlink{adclib_8h_a760a8dafdcddcfadfea0aa3e01159164aa6846e1e10db2d34f927215f069656da}{A\+D\+C\+\_\+\+R\+E\+A\+D\+\_\+\+V\+D\+D\+\_\+\+M\+O\+DE}}, 
\mbox{\hyperlink{adclib_8h_a760a8dafdcddcfadfea0aa3e01159164a63cfa9063122f9416b6c02ed2754989d}{A\+D\+C\+\_\+\+R\+E\+A\+D\+\_\+\+M\+A\+X\+\_\+\+M\+O\+DE}}
 \}
\begin{DoxyCompactList}\small\item\em A\+DC working mode enumeration. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{adclib_8h_ae535f6066003e82408b58e12f6950868}{esp\+\_\+err\+\_\+t}} \mbox{\hyperlink{adclib_8h_a9d247ddf98fabe06d8bd84ea9c5ef95c}{adc\+\_\+read}} (uint16\+\_\+t $\ast$data)
\begin{DoxyCompactList}\small\item\em Single measurement of T\+O\+U\+T(\+A\+D\+C) pin, unit \+: 1/1023 V or V\+DD pin, uint\+: 1 mV. \end{DoxyCompactList}\item 
\mbox{\hyperlink{adclib_8h_ae535f6066003e82408b58e12f6950868}{esp\+\_\+err\+\_\+t}} \mbox{\hyperlink{adclib_8h_a448296b0e698b604f641b41b0e0c307c}{adc\+\_\+read\+\_\+fast}} (uint16\+\_\+t $\ast$data, uint16\+\_\+t len)
\begin{DoxyCompactList}\small\item\em Measure the input voltage of T\+O\+U\+T(\+A\+D\+C) pin, unit \+: 1/1023 V. \end{DoxyCompactList}\item 
\mbox{\hyperlink{adclib_8h_ae535f6066003e82408b58e12f6950868}{esp\+\_\+err\+\_\+t}} \mbox{\hyperlink{adclib_8h_ab9bf25044d005e5c48f44549fe1f965a}{adc\+\_\+init}} (\mbox{\hyperlink{structadc__config__t}{adc\+\_\+config\+\_\+t}} $\ast$config)
\begin{DoxyCompactList}\small\item\em Deinit the adc. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{adclib_8h_ae535f6066003e82408b58e12f6950868}\label{adclib_8h_ae535f6066003e82408b58e12f6950868}} 
\index{adclib.h@{adclib.h}!esp\_err\_t@{esp\_err\_t}}
\index{esp\_err\_t@{esp\_err\_t}!adclib.h@{adclib.h}}
\doxysubsubsection{\texorpdfstring{esp\_err\_t}{esp\_err\_t}}
{\footnotesize\ttfamily typedef int32\+\_\+t \mbox{\hyperlink{adclib_8h_ae535f6066003e82408b58e12f6950868}{esp\+\_\+err\+\_\+t}}}



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{adclib_8h_a760a8dafdcddcfadfea0aa3e01159164}\label{adclib_8h_a760a8dafdcddcfadfea0aa3e01159164}} 
\index{adclib.h@{adclib.h}!adc\_mode\_t@{adc\_mode\_t}}
\index{adc\_mode\_t@{adc\_mode\_t}!adclib.h@{adclib.h}}
\doxysubsubsection{\texorpdfstring{adc\_mode\_t}{adc\_mode\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{adclib_8h_a760a8dafdcddcfadfea0aa3e01159164}{adc\+\_\+mode\+\_\+t}}}



A\+DC working mode enumeration. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{ADC\_READ\_TOUT\_MODE@{ADC\_READ\_TOUT\_MODE}!adclib.h@{adclib.h}}\index{adclib.h@{adclib.h}!ADC\_READ\_TOUT\_MODE@{ADC\_READ\_TOUT\_MODE}}}\mbox{\Hypertarget{adclib_8h_a760a8dafdcddcfadfea0aa3e01159164ac1f160c92430f29ea1cfed508c3a8b6d}\label{adclib_8h_a760a8dafdcddcfadfea0aa3e01159164ac1f160c92430f29ea1cfed508c3a8b6d}} 
A\+D\+C\+\_\+\+R\+E\+A\+D\+\_\+\+T\+O\+U\+T\+\_\+\+M\+O\+DE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ADC\_READ\_VDD\_MODE@{ADC\_READ\_VDD\_MODE}!adclib.h@{adclib.h}}\index{adclib.h@{adclib.h}!ADC\_READ\_VDD\_MODE@{ADC\_READ\_VDD\_MODE}}}\mbox{\Hypertarget{adclib_8h_a760a8dafdcddcfadfea0aa3e01159164aa6846e1e10db2d34f927215f069656da}\label{adclib_8h_a760a8dafdcddcfadfea0aa3e01159164aa6846e1e10db2d34f927215f069656da}} 
A\+D\+C\+\_\+\+R\+E\+A\+D\+\_\+\+V\+D\+D\+\_\+\+M\+O\+DE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ADC\_READ\_MAX\_MODE@{ADC\_READ\_MAX\_MODE}!adclib.h@{adclib.h}}\index{adclib.h@{adclib.h}!ADC\_READ\_MAX\_MODE@{ADC\_READ\_MAX\_MODE}}}\mbox{\Hypertarget{adclib_8h_a760a8dafdcddcfadfea0aa3e01159164a63cfa9063122f9416b6c02ed2754989d}\label{adclib_8h_a760a8dafdcddcfadfea0aa3e01159164a63cfa9063122f9416b6c02ed2754989d}} 
A\+D\+C\+\_\+\+R\+E\+A\+D\+\_\+\+M\+A\+X\+\_\+\+M\+O\+DE&\\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{adclib_8h_ab9bf25044d005e5c48f44549fe1f965a}\label{adclib_8h_ab9bf25044d005e5c48f44549fe1f965a}} 
\index{adclib.h@{adclib.h}!adc\_init@{adc\_init}}
\index{adc\_init@{adc\_init}!adclib.h@{adclib.h}}
\doxysubsubsection{\texorpdfstring{adc\_init()}{adc\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{adclib_8h_ae535f6066003e82408b58e12f6950868}{esp\+\_\+err\+\_\+t}} adc\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structadc__config__t}{adc\+\_\+config\+\_\+t}} $\ast$}]{config }\end{DoxyParamCaption})}



Deinit the adc. 

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK Success
\item E\+S\+P\+\_\+\+F\+A\+IL adc has not been initialized yet
\end{DoxyItemize}
\end{DoxyReturn}
Initialize the adc

\begin{DoxyNote}{Note}
First modify menuconfig-\/$>$Component config-\/$>$P\+H\+Y-\/$>$vdd33\+\_\+const value, vdd33\+\_\+const provides A\+DC mode settings, i.\+e. selecting system voltage or external voltage measurements. When measuring system voltage, it must be set to 255. To read the external voltage on T\+O\+U\+T(\+A\+D\+C) pin, vdd33\+\_\+const need less than 255 When the A\+DC reference voltage is set to the actual V\+D\+D33 power supply voltage, the value range of vdd33\+\_\+const is \mbox{[}18,36\mbox{]}, the unit is 0.\+1V. When the A\+DC reference voltage is set to the default value of 3.\+3V as the supply voltage, the range of vdd33\+\_\+const is \mbox{[}0, 18\mbox{]} or (36, 255).
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em config} & Pointer to deliver initialize configuration parameter\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK Success
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+N\+O\+\_\+\+M\+EM malloc fail
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+A\+RG Parameter error
\item E\+S\+P\+\_\+\+F\+A\+IL adc has been initialized 
\end{DoxyItemize}
\end{DoxyReturn}
Here is the caller graph for this function\+:
% FIG 2
\mbox{\Hypertarget{adclib_8h_a9d247ddf98fabe06d8bd84ea9c5ef95c}\label{adclib_8h_a9d247ddf98fabe06d8bd84ea9c5ef95c}} 
\index{adclib.h@{adclib.h}!adc\_read@{adc\_read}}
\index{adc\_read@{adc\_read}!adclib.h@{adclib.h}}
\doxysubsubsection{\texorpdfstring{adc\_read()}{adc\_read()}}
{\footnotesize\ttfamily \mbox{\hyperlink{adclib_8h_ae535f6066003e82408b58e12f6950868}{esp\+\_\+err\+\_\+t}} adc\+\_\+read (\begin{DoxyParamCaption}\item[{uint16\+\_\+t $\ast$}]{data }\end{DoxyParamCaption})}



Single measurement of T\+O\+U\+T(\+A\+D\+C) pin, unit \+: 1/1023 V or V\+DD pin, uint\+: 1 mV. 

\begin{DoxyNote}{Note}
When measuring V\+DD pin voltage, the T\+O\+U\+T(\+A\+D\+C) pin must be left floating.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em data} & Pointer to accept adc value.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK Success
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+A\+RG Parameter error
\item E\+S\+P\+\_\+\+F\+A\+IL adc has not been initialized yet 
\end{DoxyItemize}
\end{DoxyReturn}
Here is the caller graph for this function\+:
% FIG 3
\mbox{\Hypertarget{adclib_8h_a448296b0e698b604f641b41b0e0c307c}\label{adclib_8h_a448296b0e698b604f641b41b0e0c307c}} 
\index{adclib.h@{adclib.h}!adc\_read\_fast@{adc\_read\_fast}}
\index{adc\_read\_fast@{adc\_read\_fast}!adclib.h@{adclib.h}}
\doxysubsubsection{\texorpdfstring{adc\_read\_fast()}{adc\_read\_fast()}}
{\footnotesize\ttfamily \mbox{\hyperlink{adclib_8h_ae535f6066003e82408b58e12f6950868}{esp\+\_\+err\+\_\+t}} adc\+\_\+read\+\_\+fast (\begin{DoxyParamCaption}\item[{uint16\+\_\+t $\ast$}]{data,  }\item[{uint16\+\_\+t}]{len }\end{DoxyParamCaption})}



Measure the input voltage of T\+O\+U\+T(\+A\+D\+C) pin, unit \+: 1/1023 V. 

\begin{DoxyNote}{Note}
Wi-\/\+Fi and interrupts need to be turned off.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em data} & Pointer to accept adc value. Input voltage of T\+O\+U\+T(\+A\+D\+C) pin, unit \+: 1/1023 V \\
\hline
{\em len} & Receiving length of A\+DC value, range \mbox{[}1, 65535\mbox{]}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item E\+S\+P\+\_\+\+OK Success
\item E\+S\+P\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+A\+RG Parameter error
\item E\+S\+P\+\_\+\+F\+A\+IL adc has not been initialized yet 
\end{DoxyItemize}
\end{DoxyReturn}
